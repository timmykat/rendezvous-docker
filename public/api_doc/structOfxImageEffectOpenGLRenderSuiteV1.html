<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>OFX: OfxImageEffectOpenGLRenderSuiteV1 Struct Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">OFX
   &#160;<span id="projectnumber">1.3</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('structOfxImageEffectOpenGLRenderSuiteV1.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="structOfxImageEffectOpenGLRenderSuiteV1-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">OfxImageEffectOpenGLRenderSuiteV1 Struct Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>OFX suite that provides image to texture conversion for OpenGL processing.  
 <a href="structOfxImageEffectOpenGLRenderSuiteV1.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="ofxOpenGLRender_8h_source.html">ofxOpenGLRender.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a56bb8e1fb6172b591efa259ac025e7fe"><td class="memItemLeft" align="right" valign="top"><a class="el" href="ofxCore_8h.html#a458fea218d3024a9a8c28d06301ad920">OfxStatus</a>(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structOfxImageEffectOpenGLRenderSuiteV1.html#a56bb8e1fb6172b591efa259ac025e7fe">clipLoadTexture</a> )(<a class="el" href="ofxImageEffect_8h.html#a884eb9828219b72b1e7f44811970c43a">OfxImageClipHandle</a> clip, <a class="el" href="ofxCore_8h.html#a74bedcce4e9319c813c08b27daf711da">OfxTime</a> time, const char *format, <a class="el" href="structOfxRectD.html">OfxRectD</a> *region, <a class="el" href="ofxCore_8h.html#a1221764b65c2ca62b1a120f7c4ba12ba">OfxPropertySetHandle</a> *textureHandle)</td></tr>
<tr class="memdesc:a56bb8e1fb6172b591efa259ac025e7fe"><td class="mdescLeft">&#160;</td><td class="mdescRight">loads an image from an OFX clip as a texture into OpenGL  <a href="#a56bb8e1fb6172b591efa259ac025e7fe">More...</a><br/></td></tr>
<tr class="separator:a56bb8e1fb6172b591efa259ac025e7fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6cd32f43e2fc41d0a5efcac3092d2242"><td class="memItemLeft" align="right" valign="top"><a class="el" href="ofxCore_8h.html#a458fea218d3024a9a8c28d06301ad920">OfxStatus</a>(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structOfxImageEffectOpenGLRenderSuiteV1.html#a6cd32f43e2fc41d0a5efcac3092d2242">clipFreeTexture</a> )(<a class="el" href="ofxCore_8h.html#a1221764b65c2ca62b1a120f7c4ba12ba">OfxPropertySetHandle</a> textureHandle)</td></tr>
<tr class="memdesc:a6cd32f43e2fc41d0a5efcac3092d2242"><td class="mdescLeft">&#160;</td><td class="mdescRight">Releases the texture handle previously returned by clipLoadTexture.  <a href="#a6cd32f43e2fc41d0a5efcac3092d2242">More...</a><br/></td></tr>
<tr class="separator:a6cd32f43e2fc41d0a5efcac3092d2242"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae3000d35af3c420fca614c21520fdabb"><td class="memItemLeft" align="right" valign="top"><a class="el" href="ofxCore_8h.html#a458fea218d3024a9a8c28d06301ad920">OfxStatus</a>(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structOfxImageEffectOpenGLRenderSuiteV1.html#ae3000d35af3c420fca614c21520fdabb">flushResources</a> )()</td></tr>
<tr class="memdesc:ae3000d35af3c420fca614c21520fdabb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Request the host to minimize its GPU resource load.  <a href="#ae3000d35af3c420fca614c21520fdabb">More...</a><br/></td></tr>
<tr class="separator:ae3000d35af3c420fca614c21520fdabb"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>OFX suite that provides image to texture conversion for OpenGL processing. </p>
</div><h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="a6cd32f43e2fc41d0a5efcac3092d2242"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="ofxCore_8h.html#a458fea218d3024a9a8c28d06301ad920">OfxStatus</a>(* OfxImageEffectOpenGLRenderSuiteV1::clipFreeTexture)(<a class="el" href="ofxCore_8h.html#a1221764b65c2ca62b1a120f7c4ba12ba">OfxPropertySetHandle</a> textureHandle)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Releases the texture handle previously returned by clipLoadTexture. </p>
<p>For input clips, this also deletes the texture from OpenGL. This should also be called on the output clip; for the Output clip, it just releases the handle but does not delete the texture (since the host will need to read it).</p>
<dl class="section pre"><dt>Precondition</dt><dd><ul>
<li>textureHandle was returned by clipGetImage</li>
</ul>
</dd></dl>
<dl class="section post"><dt>Postcondition</dt><dd><ul>
<li>all operations on textureHandle will be invalid, and the OpenGL texture it referred to has been deleted (for source clips)</li>
</ul>
</dd></dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li><a class="el" href="group__StatusCodesGeneral.html#ga2ae346dcc886e9144d1ad32522fbad0a" title="Status code indicating all was fine. ">kOfxStatOK</a> - the image was successfully fetched and returned in the handle,</li>
<li><a class="el" href="group__StatusCodesGeneral.html#ga0a044b3e270fab013e0845b8e662e752" title="Status error code for a failed operation. ">kOfxStatFailed</a> - general failure for some reason,</li>
<li><a class="el" href="group__StatusCodesGeneral.html#gaad3facbbf65577b84f4ec0c8de5dcb19" title="Status error code for an operation on a bad handle. ">kOfxStatErrBadHandle</a> - the image handle was invalid, </li>
</ul>
</dd></dl>

</div>
</div>
<a class="anchor" id="a56bb8e1fb6172b591efa259ac025e7fe"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="ofxCore_8h.html#a458fea218d3024a9a8c28d06301ad920">OfxStatus</a>(* OfxImageEffectOpenGLRenderSuiteV1::clipLoadTexture)(<a class="el" href="ofxImageEffect_8h.html#a884eb9828219b72b1e7f44811970c43a">OfxImageClipHandle</a> clip, <a class="el" href="ofxCore_8h.html#a74bedcce4e9319c813c08b27daf711da">OfxTime</a> time, const char *format, <a class="el" href="structOfxRectD.html">OfxRectD</a> *region, <a class="el" href="ofxCore_8h.html#a1221764b65c2ca62b1a120f7c4ba12ba">OfxPropertySetHandle</a> *textureHandle)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>loads an image from an OFX clip as a texture into OpenGL </p>
<ul>
<li>clip - the clip to load the image from </li>
<li>time - effect time to load the image from </li>
<li>format - the requested texture format (As in none,byte,word,half,float, etc..) When set to NULL, the host decides the format based on the plug-in's <a class="el" href="ofxOpenGLRender_8h.html#ad66f69fc82de287dfd728ce880e46903" title="Indicates the bit depths supported by a plug-in during OpenGL renders. ">kOfxOpenGLPropPixelDepth</a> setting. </li>
<li>region - region of the image to load (optional, set to NULL to get a 'default' region) this is in the CanonicalCoordinates. </li>
<li>textureHandle - a property set containing information about the texture</li>
</ul>
<p>An image is fetched from a clip at the indicated time for the given region and loaded into an OpenGL texture. When a specific format is requested, the host ensures it gives the requested format. When the clip specified is the "Output" clip, the format is ignored and the host must bind the resulting texture as the current color buffer (render target). This may also be done prior to calling the <a class="el" href="group__ImageEffectActions.html#gabe7301ea1a415a8567ce6c80e863e28f" title="Action to render an image. ">kOfxImageEffectActionRender</a> action. If the <em>region</em> parameter is set to non-NULL, then it will be clipped to the clip's Region of Definition for the given time. The returned image will be <em>at</em> <em>least</em> as big as this region. If the region parameter is not set or is NULL, then the region fetched will be at least the Region of Interest the effect has previously specified, clipped to the clip's Region of Definition. Information about the texture, including the texture index, is returned in the <em>textureHandle</em> argument. The properties on this handle will be...</p>
<ul>
<li><a class="el" href="ofxOpenGLRender_8h.html#af124dcb8f827d04bd38a2169a7c9e914" title="Indicates the texture index of an image turned into an OpenGL texture by the host. ">kOfxImageEffectPropOpenGLTextureIndex</a></li>
<li><a class="el" href="ofxOpenGLRender_8h.html#a7cd67de6fad44abb4916e8cf715eff03" title="Indicates the texture target enumerator of an image turned into an OpenGL texture by the host...">kOfxImageEffectPropOpenGLTextureTarget</a></li>
<li><a class="el" href="group__ImageEffectPropDefines.html#gaab5079daeead01325dd583aa90f1dc3a" title="Indicates the type of each component in a clip or image (after any mapping) ">kOfxImageEffectPropPixelDepth</a></li>
<li><a class="el" href="group__ImageEffectPropDefines.html#ga45e33c156e25c31e8c27878354b97d5b" title="Indicates the current component type in a clip or image (after any mapping) ">kOfxImageEffectPropComponents</a></li>
<li><a class="el" href="group__ImageEffectPropDefines.html#gab1636648e05f2b526eb7b87438dd2411" title="Indicates the premultiplication state of a clip or image. ">kOfxImageEffectPropPreMultiplication</a></li>
<li><a class="el" href="group__ImageEffectPropDefines.html#gaf49ca39157ba8d220fd634d3348c4c53" title="The proxy render scale currently being applied. ">kOfxImageEffectPropRenderScale</a></li>
<li><a class="el" href="group__ImageEffectPropDefines.html#ga46162857f576d29783968c38e133cfa2" title="The pixel aspect ratio of a clip or image. ">kOfxImagePropPixelAspectRatio</a></li>
<li><a class="el" href="group__ImageEffectPropDefines.html#ga9cff5c74b9e3accc763eb3ea98a6e44e" title="The bounds of an image&#39;s pixels. ">kOfxImagePropBounds</a></li>
<li><a class="el" href="group__ImageEffectPropDefines.html#gaf88fe3266af016a6db40315c3310e2d0" title="The full region of definition of an image. ">kOfxImagePropRegionOfDefinition</a></li>
<li><a class="el" href="group__ImageEffectPropDefines.html#ga6ca85755c94f79991159086c38b2a28a" title="The number of bytes in a row of an image. ">kOfxImagePropRowBytes</a></li>
<li><a class="el" href="group__ImageEffectPropDefines.html#ga1789fe96bbe0750446650d39117c36a7" title="Which fields are present in the image. ">kOfxImagePropField</a></li>
<li><a class="el" href="group__ImageEffectPropDefines.html#ga03e7ca5f2189d4fd89e3c17f6b0de35c" title="Uniquely labels an image. ">kOfxImagePropUniqueIdentifier</a></li>
</ul>
<p>With the exception of the OpenGL specifics, these properties are the same as the properties in an image handle returned by clipGetImage in the image effect suite. </p>
<dl class="section pre"><dt>Precondition</dt><dd><ul>
<li>clip was returned by clipGetHandle</li>
<li>Format property in the texture handle</li>
</ul>
</dd></dl>
<dl class="section post"><dt>Postcondition</dt><dd><ul>
<li>texture handle to be disposed of by clipFreeTexture before the action returns</li>
<li>when the clip specified is the "Output" clip, the format is ignored and the host must bind the resulting texture as the current color buffer (render target). This may also be done prior to calling the render action.</li>
</ul>
</dd></dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li><a class="el" href="group__StatusCodesGeneral.html#ga2ae346dcc886e9144d1ad32522fbad0a" title="Status code indicating all was fine. ">kOfxStatOK</a> - the image was successfully fetched and returned in the handle,</li>
<li><a class="el" href="group__StatusCodesGeneral.html#ga0a044b3e270fab013e0845b8e662e752" title="Status error code for a failed operation. ">kOfxStatFailed</a> - the image could not be fetched because it does not exist in the clip at the indicated time and/or region, the plugin should continue operation, but assume the image was black and transparent.</li>
<li><a class="el" href="group__StatusCodesGeneral.html#gaad3facbbf65577b84f4ec0c8de5dcb19" title="Status error code for an operation on a bad handle. ">kOfxStatErrBadHandle</a> - the clip handle was invalid,</li>
<li><a class="el" href="group__StatusCodesGeneral.html#ga86f0fe932b4500b789ac7592b23e8b2f" title="Status error code indicating that something failed due to memory shortage. ">kOfxStatErrMemory</a> - not enough OpenGL memory was available for the effect to load the texture. The plugin should abort the GL render and return <a class="el" href="group__StatusCodesGeneral.html#ga86f0fe932b4500b789ac7592b23e8b2f" title="Status error code indicating that something failed due to memory shortage. ">kOfxStatErrMemory</a>, after which the host can decide to retry the operation with CPU based processing.</li>
</ul>
</dd></dl>
<dl class="section note"><dt>Note</dt><dd><ul>
<li>this is the OpenGL equivalent of clipGetImage from <a class="el" href="structOfxImageEffectSuiteV1.html" title="The OFX suite for image effects. ">OfxImageEffectSuiteV1</a> </li>
</ul>
</dd></dl>

</div>
</div>
<a class="anchor" id="ae3000d35af3c420fca614c21520fdabb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="ofxCore_8h.html#a458fea218d3024a9a8c28d06301ad920">OfxStatus</a>(* OfxImageEffectOpenGLRenderSuiteV1::flushResources)()</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Request the host to minimize its GPU resource load. </p>
<p>When a plugin fails to allocate GPU resources, it can call this function to request the host to flush it's GPU resources if it holds any. After the function the plugin can try again to allocate resources which then might succeed if the host actually has released anything.</p>
<dl class="section pre"><dt>Precondition</dt><dd></dd></dl>
<dl class="section post"><dt>Postcondition</dt><dd><ul>
<li>No changes to the plugin GL state should have been made.</li>
</ul>
</dd></dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li><a class="el" href="group__StatusCodesGeneral.html#ga2ae346dcc886e9144d1ad32522fbad0a" title="Status code indicating all was fine. ">kOfxStatOK</a> - the host has actually released some resources,</li>
<li><a class="el" href="group__StatusCodesGeneral.html#gae9ae77f9accb8fd619e7bfb464887b16" title="OfxStatus returned indicating that a default action should be performed. ">kOfxStatReplyDefault</a> - nothing the host could do.. </li>
</ul>
</dd></dl>

</div>
</div>
<hr/>The documentation for this struct was generated from the following file:<ul>
<li><a class="el" href="ofxOpenGLRender_8h_source.html">ofxOpenGLRender.h</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<hr width="75%" size="2" noshade="">
<small>
Copyright 2003-2012 The Open Effects Association  Ltd. All rights reserved.<br>
Copying and redistribution with or without
modification, is permitted provided that the following conditions are met:
<ol>
    <li> Redistributions of the document must retain the above copyright notice
      and this list of conditions.</li>
    <li>  Neither the name of The Open Effects Association Ltd nor names of its 
      contributors may be used to
      endorse or promote products derived from this software without specific
      prior written permission.</li>
</ol>
Automatic documentation generated by <a href="http://www.doxygen.org">Doxygen</a>.<br>
</small>
